/* === Reset Básico y Variables === */
* { margin: 0; padding: 0; box-sizing: border-box; }

:root {
    /* Tus variables de color y fuente */
    --color-text: #555;
    --color-headings: #333;
    --color-script: #444;
    --color-background-inner: #fcfaf5; /* Beige */
    --color-background-outer: #ffffff; /* Blanco */
    --color-border-light: #eee;
    --color-icon: #777;
    --color-envelope-back: #f5eadd;
    --color-envelope-flap: #f1e4d4;
    --color-envelope-card: #ffffff;
    --color-envelope-text: #6c5d53;
    --font-script: 'Great Vibes', cursive;
    --font-serif: 'Source Serif Pro', serif;
}

html { scroll-behavior: smooth; }

body {
    font-family: var(--font-serif);
    color: var(--color-text);
    background-color: var(--color-background-outer); /* Blanco */
    line-height: 1.8;
    font-size: 16px;
    font-weight: 300;
    text-align: center;
    overflow-x: hidden;
    /* Quitar flexbox - ya no es necesario para centrar el sobre */
    /* min-height: 100vh; */
    /* display: flex; */
    /* justify-content: center; */
    /* align-items: center; */
}

/* === INICIO: ESTILOS REVISADOS DEL SOBRE === */
#envelope-container {
    position: fixed; /* Fijado a la ventana */
    top: 50%;        /* Centrado vertical */
    left: 50%;       /* Centrado horizontal */
    transform: translate(-50%, -50%); /* Ajuste fino para centrar */
    width: 300px;
    height: 200px;
    cursor: pointer;
    z-index: 1000;
    transition: opacity 0.5s ease-out 0.6s, visibility 0s linear 1.1s, transform 0.5s ease-out 0.6s;
}

/* Estado oculto para el sobre después de abrir */
#envelope-container.hidden {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transform: translate(-50%, -50%) scale(0.8); /* Mantener centrado al escalar */
}

.envelope-back {
    position: absolute; bottom: 0; left: 0; width: 100%; height: 100%;
    background-color: var(--color-envelope-back);
    border-radius: 5px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    z-index: 1; /* Fondo */
}

.envelope-card {
    position: absolute; bottom: 0; left: 5%; width: 90%; height: 95%;
    background-color: var(--color-envelope-card);
    border-radius: 3px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    z-index: 2; /* Encima del fondo del sobre */
    padding: 20px 15px 15px 15px; /* Más padding superior para texto de solapa */
    text-align: center; color: var(--color-envelope-text);
    transition: transform 0.5s ease-out 0.3s;
    overflow: hidden; /* Para asegurar que el contenido no se salga */
}
.envelope-card .card-greeting {font-family: var(--font-serif); font-size: 0.9rem; margin-bottom: 0.5rem;}
.envelope-card .card-names {font-family: var(--font-script); font-size: 1.8rem; color: var(--color-script); margin-bottom: 1rem;}
.envelope-card .card-subtitle {font-family: var(--font-script); font-size: 1.1rem; font-style: italic;}

.envelope-flap {
    position: absolute; top: 0; left: 0; width: 100%; height: 55%;
    background-color: var(--color-envelope-flap);
    clip-path: polygon(0% 0%, 100% 0%, 50% 100%);
    z-index: 3; /* Encima de la tarjeta */
    transform-origin: top center; transition: transform 0.6s ease-in-out;
    display: flex; justify-content: center; align-items: flex-start; /* Alinear texto arriba */
    padding-top: 15px; /* Espacio arriba para el texto */
}

.flap-text {
    font-family: var(--font-serif); font-size: 0.9rem; color: var(--color-envelope-text);
    opacity: 0.8; margin: 0;
    transition: opacity 0.3s ease-out;
    /* Quitar posicionamiento relativo 'top' */
}

/* Estado Abierto */
#envelope-container.open .envelope-flap { transform: rotateX(-180deg); z-index: 0; } /* Poner solapa detrás */
#envelope-container.open .flap-text { opacity: 0; }
#envelope-container.open .envelope-card { transform: translateY(-25px); }
/* === FIN: ESTILOS REVISADOS DEL SOBRE === */


/* === Wrapper Central (Contenido Principal) === */
.content-wrapper {
    background-color: var(--color-background-inner); /* Beige */
    max-width: 900px;
    /* Margin auto lo centra horizontalmente cuando body es block */
    margin: 2rem auto;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.08);
    position: relative; /* Para el flujo normal */
    overflow: hidden;
    width: 100%; /* Ocupar ancho disponible */
    opacity: 0; /* Empieza invisible */
    visibility: hidden;
    transition: opacity 0.7s ease-in 0.3s, visibility 0s linear 0s; /* Fade in con retraso pequeño */
    min-height: 100vh; /* Asegurar que ocupe al menos pantalla */
}

/* Estado visible para el contenido */
.content-wrapper.visible {
    opacity: 1;
    visibility: visible;
    margin: 0 auto; /* Quitar margen vertical extra al mostrar */
}

/* Estado oculto inicial */
.content-wrapper.hidden {
     opacity: 0;
     visibility: hidden;
     height: 0; /* No ocupa espacio vertical */
     overflow: hidden;
     margin: 0 auto;
     /* No se necesita transition aquí, ya que empieza oculto */
}


/* ... (Tus estilos existentes para h1, h2, p, section, leaf-art, etc. van aquí SIN CAMBIOS) ... */
/* ... (Pegar aquí el resto de tus estilos desde h1 hasta el final, incluyendo media queries) ... */
h1, h2, .script-text {font-family: var(--font-script); color: var(--color-script); font-weight: normal; margin-bottom: 1rem;}
h1 { font-size: 2.8rem; margin-bottom: 0.5rem; line-height: 1.2; }
h2 { font-size: 3.5rem; margin-bottom: 2rem; }
p { margin-bottom: 1rem; font-size: 0.95rem; }
.section {padding: 4rem 1rem; position: relative; max-width: 600px; margin: 0 auto;}
.leaf-art {position: absolute; opacity: 0.6; pointer-events: none; max-width: 150px; height: auto; z-index: 1;}
.leaf-top { max-width: 200px; z-index: 0;} 
.leaf-bottom-1 { max-width: 350px; z-index: 0;}
/*.leaf-bottom-2 { max-width: 100px; z-index: 0;}*/
.leaf-circle-frame { max-width: 300px; z-index: 0; opacity: 1;}
.leaf-separator { position: static; display: block; margin: 1.5rem auto; opacity: 0.5; max-width: 100px; }
.leaf-footer-left, .leaf-footer-right { max-width: 100px; opacity: 0.4;}
.leaf-top { top: 10px; left: 50%; transform: translateX(-50%); }
.leaf-bottom-1 { bottom: 6%; left: 50%; transform: translateX(-50%); }
/*.leaf-bottom-2 { bottom: 6%; right: 52%; transform: translateX(-50%); }*/
.leaf-circle-frame { top: 50%; left: 50%; transform: translate(-50%, -50%); }
.leaf-swirl-top { top: 2rem; right: 1rem; }
.leaf-swirl-bottom { bottom: 2rem; left: 1rem; }
.leaf-top-right { top: 2.5rem; right: 1rem; }
.leaf-bottom-left { bottom: 2.5rem; left: 1rem; }
.leaf-top-right { max-width: 120px; z-index: 0; }
.leaf-bottom-left { max-width: 120px; z-index: 0; }
.leaf-footer-left { bottom: 1rem; left: 1rem; }
.leaf-footer-right { bottom: 1rem; right: 1rem; }
.hero-section { padding: 2rem 1rem 3rem; position: relative; min-height: 70vh; display: flex; flex-direction: column; align-items: center; }
.hero-image-container { width: 80%; max-width: 350px; margin-top: 3rem; margin-bottom: 3rem; position: relative; clip-path: ellipse(120% 100% at 50% 100%); overflow: hidden; z-index: 2; }
.hero-photo { display: block; width: 100%; height: auto; }
.hero-names { margin-top: -1rem; position: relative; z-index: 3; }
.hero-names p { font-family: var(--font-serif); font-size: 0.9rem; letter-spacing: 1px; text-transform: uppercase; color: #999; margin: 0; }
.date-section { padding-top: 6rem; padding-bottom: 6rem; position: relative; }
.initials-circle { width: 300px; height: 300px; border-radius: 60%; display: flex; justify-content: center; align-items: center; margin: 0 auto 1.5rem auto; position: relative; z-index: 2; background-color: #fff; box-shadow: 0 0 10px rgba(0,0,0,0.05); }
.initials-circle span { font-family: var(--font-serif); font-size: 4.5rem; font-weight: 600; color: var(--color-headings); line-height: 1; margin: 0 0.2rem; }
.date-text p { font-family: var(--font-serif); font-size: 1rem; font-weight: 400; letter-spacing: 1px; text-transform: uppercase; color: var(--color-text); margin-bottom: 0.2rem; position: relative; z-index: 2; }
.invitation-section .script-text { font-size: 1.8rem; line-height: 1.6; color: var(--color-script); }
.event-section .venue-name { font-family: var(--font-serif); font-size: 1.1rem; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; margin-top: -1rem; margin-bottom: 1.5rem; color: var(--color-headings); }
.event-section .address { font-size: 0.9rem; line-height: 1.6; margin-bottom: 1.5rem; }
.icon-link { display: inline-flex; flex-direction: column; align-items: center; text-decoration: none; color: var(--color-text); font-size: 0.8rem; }
.icon-link .icon { font-size: 2.5rem; margin-bottom: 0.3rem; color: var(--color-icon); }
.icon-link:hover .icon { color: var(--color-headings); transform: scale(1.1); transition: transform 0.2s ease; }
.icon-link-button { background: none; border: none; cursor: pointer; padding: 0; }
.rsvp-section p { margin-bottom: 1.5rem; }
.countdown-section { padding: 2rem 1rem 0; }
.countdown-timer { display: flex; justify-content: center; gap: 0.8rem; margin-bottom: 0; flex-wrap: wrap; }
.countdown-timer div { font-family: var(--font-serif); color: var(--color-text); font-size: 0.7rem; text-transform: uppercase; letter-spacing: 1px; }
.countdown-timer span { display: block; font-size: 1.5rem; font-weight: 600; color: var(--color-headings); margin-bottom: 0.2rem; }
.gift-section { padding-top: 3rem; }
.gift-section h2 { margin-bottom: 1.5rem; }
.gift-section p { margin-bottom: 1.5rem; }
.iban-text { font-family: var(--font-serif); font-size: 1.1rem; font-weight: 600; color: var(--color-headings); margin-bottom: 1rem; letter-spacing: 1px; }
.copy-feedback { display: block; margin-top: 0.5rem; font-size: 0.8rem; color: green; height: 1em; }
.itinerary-list { list-style: none; padding: 0; margin: 0; display: inline-block; text-align: left; }
.itinerary-list li { margin-bottom: 1rem; font-size: 0.95rem; display: flex; align-items: center; }
.itinerary-list .icon { font-size: 1.5rem; margin-right: 1rem; color: var(--color-icon); width: 25px; text-align: center; }
.photos-section p { margin-bottom: 1.5rem; }
.footer-section { padding: 3rem 1rem; position: relative; overflow: hidden; }
.footer-names { font-family: var(--font-serif); font-size: 1.3rem; font-weight: 600; letter-spacing: 2px; color: var(--color-headings); text-transform: uppercase; margin-bottom: 0.5rem; }
.footer-message { font-family: var(--font-serif); font-size: 0.9rem; color: var(--color-text); letter-spacing: 1px; }
.footer-section .leaf-art { opacity: 0.4; }


/* === Responsividad === */
/* QUITAR Media query para body.content-visible si ya no se usa */
/* body.content-visible { ... } */

@media (max-width: 920px) { .content-wrapper.visible { max-width: 100%; box-shadow: none; margin: 0 auto; } }
@media (max-width: 768px) { h1 { font-size: 2.5rem; } h2 { font-size: 3rem; } .section { padding: 3rem 1rem; } .leaf-art { max-width: 120px; } .leaf-top { max-width: 200px; } .leaf-bottom-1 { max-width: 350px; } .leaf-circle-frame { max-width: 300px; } .initials-circle { width: 300px; height: 300px; } .initials-circle span { font-size: 3.5rem; } .countdown-timer { gap: 1rem; } .countdown-timer span { font-size: 1rem; } }
@media (max-width: 480px) {
    #envelope-container { width: 280px; height: 180px; } /* Ajustar sobre en móvil */
    .envelope-card .card-names { font-size: 1.5rem;}
    .flap-text { font-size: 0.8rem; }
    /* ... (resto de tus estilos responsivos) ... */
     body { font-size: 15px; } h1 { font-size: 2rem; } h2 { font-size: 2.5rem; } .section { padding: 2.5rem 1rem; } .hero-image-container { width: 90%; margin-top: 2rem; margin-bottom: 2rem;} .leaf-art { max-width: 100px; } .leaf-top { max-width: 200px; } .leaf-bottom-1 { max-width: 350px; } .leaf-circle-frame { max-width: 250px; } .initials-circle { width: 250px; height: 250px; } .initials-circle span { font-size: 3rem; } .invitation-section .script-text { font-size: 1.5rem; } .countdown-section { padding: 1.5rem 1rem 0; } .countdown-timer { gap: 0.5rem;} .countdown-timer div { margin-bottom: 0.5rem; } .countdown-timer span { font-size: 1rem; } .gift-section { padding-top: 2rem; } .itinerary-list { display: block; text-align: center;} .itinerary-list li { justify-content: center;} .footer-names { font-size: 1rem; } .footer-message { font-size: 0.8rem; } .leaf-footer-left, .leaf-footer-right { max-width: 80px; }
}